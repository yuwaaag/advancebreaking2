<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <style>
        body, html { margin: 0; padding: 0; width: 100vw; height: 100vh; overflow: hidden; background: #000; font-family: 'Arial Black', sans-serif; }
        #news-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0.5; filter: blur(3px); transition: opacity 1s; }
        .breaking-container { position: relative; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: flex-end; align-items: center; border: 10px solid #ffcc00; box-sizing: border-box; z-index: 10; }
        .header-box { position: absolute; top: 50px; text-align: center; background: rgba(204, 0, 0, 0.9); padding: 20px 60px; border: 5px solid #ffcc00; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 100% { transform: scale(1.05); } }
        .header-text { font-size: 80px; color: #fff; letter-spacing: 8px; margin: 0; }
        .news-box { width: 100%; background: linear-gradient(to top, #000, rgba(0,0,0,0.8)); padding: 40px; border-top: 8px solid #ffcc00; }
        .news-text { font-size: 55px; color: #ffcc00; text-align: center; margin: 0; line-height: 1.2; font-weight: bold; }
        #start-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); color: #ffcc00; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 1000; cursor: pointer; text-align: center; }
    </style>
</head>
<body>

<div id="start-overlay" onclick="startAdvancedSystem()">
    <h1 style="font-size: 60px;">PTN NEWS STUDIO</h1>
    <p style="font-size: 30px; color: white;">‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç - ‡§∏‡§æ‡§â‡§Ç‡§° ‡§î‡§∞ ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç</p>
    <p style="font-size: 18px; color: #ffcc00;">(No-File Audio Engine Active)</p>
</div>

<img id="news-bg" src="" alt="Background">

<div class="breaking-container">
    <div class="header-box"><p class="header-text">BREAKING NEWS</p></div>
    <div class="news-box">
        <center><div style="background:#fff; color:#cc0000; padding:10px 30px; font-size:30px; font-weight:bold; border-radius:5px; margin-bottom:10px;">‡§¨‡§°‡§º‡•Ä ‡§ñ‡§¨‡§∞</div></center>
        <p class="news-text" id="headline">‡§ï‡§®‡•á‡§ï‡•ç‡§ü‡§ø‡§Ç‡§ó...</p>
    </div>
</div>

<script>
    let newsList = [];
    let currentIndex = 0;
    let audioCtx;

    // üéµ ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§ü‡•ã‡§® ‡§™‡•à‡§¶‡§æ ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§á‡§Ç‡§ú‡§® (‡§¨‡§ø‡§®‡§æ ‡§´‡§æ‡§á‡§≤ ‡§ï‡•á)
    function playNewsDrone() {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        // ‡§è‡§ï ‡§ó‡§π‡§∞‡§æ ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§ú‡•à‡§∏‡§æ 'Hum' ‡§∏‡§æ‡§â‡§Ç‡§° ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è
        const oscillator = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();

        oscillator.type = 'sawtooth'; // ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§ú‡•à‡§∏‡•Ä ‡§ó‡§Ç‡§≠‡•Ä‡§∞ ‡§Ü‡§µ‡§æ‡§ú‡§º ‡§ï‡•á ‡§≤‡§ø‡§è
        oscillator.frequency.setValueAtTime(50, audioCtx.currentTime); // ‡§ó‡§π‡§∞‡•Ä ‡§¨‡•á‡§∏ ‡§ü‡•ã‡§®
        
        gainNode.gain.setValueAtTime(0.05, audioCtx.currentTime); // ‡§Æ‡•ç‡§Ø‡•Ç‡§ú‡§º‡§ø‡§ï ‡§ï‡•ã ‡§π‡§≤‡•ç‡§ï‡§æ ‡§∞‡§ñ‡•á‡§Ç
        
        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);
        
        oscillator.start();
    }

    // üîî ‡§¨‡•ç‡§∞‡•á‡§ï‡§ø‡§Ç‡§ó ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§® ‡§∏‡§æ‡§â‡§Ç‡§° (Whoosh)
    function playTransitionSound() {
        if(!audioCtx) return;
        const osc = audioCtx.createOscillator();
        const g = audioCtx.createGain();
        osc.type = 'sine';
        osc.frequency.setValueAtTime(800, audioCtx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(100, audioCtx.currentTime + 0.5);
        g.gain.setValueAtTime(0.2, audioCtx.currentTime);
        g.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
        osc.connect(g);
        g.connect(audioCtx.destination);
        osc.start();
        osc.stop(audioCtx.currentTime + 0.5);
    }

    async function fetchNews() {
        const rssUrl = "https://www.bhaskar.com/rss-v1--category-1061.xml"; 
        const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;
        try {
            const response = await fetch(apiUrl);
            const data = await response.json();
            if (data.status === 'ok') {
                newsList = data.items;
                showNextNews();
            }
        } catch (e) { console.log("Fetch Error"); }
    }

    function showNextNews() {
        if (newsList.length === 0) return;
        const item = newsList[currentIndex];

        // ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§® ‡§∏‡§æ‡§â‡§Ç‡§° ‡§¨‡§ú‡§æ‡§è‡§Ç
        playTransitionSound();

        document.getElementById('headline').innerText = item.title;
        if (item.enclosure && item.enclosure.link) {
            document.getElementById('news-bg').src = item.enclosure.link;
        }

        speakNews(item.title);

        currentIndex = (currentIndex + 1) % newsList.length;
        setTimeout(showNextNews, 12000);
    }

    function speakNews(text) {
        window.speechSynthesis.cancel();
        const msg = new SpeechSynthesisUtterance("‡§¨‡•ç‡§∞‡•á‡§ï‡§ø‡§Ç‡§ó ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º... " + text);
        msg.lang = 'hi-IN';
        msg.rate = 0.9;
        window.speechSynthesis.speak(msg);
    }

    function startAdvancedSystem() {
        document.getElementById('start-overlay').style.display = 'none';
        
        // ‡§Æ‡•ç‡§Ø‡•Ç‡§ú‡§º‡§ø‡§ï ‡§á‡§Ç‡§ú‡§® ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç
        playNewsDrone();
        
        // ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§≤‡§æ‡§è‡§Ç
        fetchNews();
    }
</script>

</body>
</html>
