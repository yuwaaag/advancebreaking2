<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <style>
        body, html { margin: 0; padding: 0; width: 100vw; height: 100vh; overflow: hidden; background: #000; font-family: 'Arial Black', sans-serif; }
        
        #news-bg { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            object-fit: cover; opacity: 0.5; filter: brightness(0.6);
            z-index: 1;
        }

        .main-ui {
            position: relative; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: flex-end;
            border: 10px solid #ffcc00; box-sizing: border-box; z-index: 10;
        }

        .breaking-tag {
            position: absolute; top: 50px; left: 50%; transform: translateX(-50%);
            background: #cc0000; color: white; padding: 20px 60px;
            font-size: 80px; font-weight: bold; border: 5px solid #fff;
            box-shadow: 0 0 30px #ff0000; animation: blink 1.5s infinite;
        }

        .news-box {
            width: 100%; background: linear-gradient(transparent, #000 30%);
            padding: 60px 20px; text-align: center;
        }

        .news-text {
            font-size: 55px; color: #ffcc00; font-weight: bold;
            text-shadow: 3px 3px 10px #000; margin: 0;
        }

        #start-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; color: #ffcc00; display: flex;
            justify-content: center; align-items: center; z-index: 1000;
            cursor: pointer; font-size: 40px; text-align: center;
        }

        @keyframes blink { 50% { opacity: 0.8; transform: translateX(-50%) scale(1.05); } }
    </style>
</head>
<body>

    <div id="start-screen" onclick="launchNews()">
        <div style="border: 4px solid #ffcc00; padding: 50px;">
            PTN NEWS STUDIO<br>
            <span style="color:white; font-size: 20px;">[ क्लिक करें और शुरू करें ]</span>
        </div>
    </div>

    <img id="news-bg" src="" alt="News Image">

    <div class="main-ui">
        <div class="breaking-tag">BREAKING NEWS</div>
        <div class="news-box">
            <p class="news-text" id="headline">खबरें लोड हो रही हैं...</p>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="https://www.soundjay.com/free-music/sounds/action-movie-trailer-01.mp3" type="audio/mpeg">
    </audio>

    <script>
        let newsList = [];
        let currentIndex = 0;
        const bgMusic = document.getElementById('bgMusic');
        const headlineEl = document.getElementById('headline');
        const bgImg = document.getElementById('news-bg');

        async function fetchNews() {
            const rssUrl = "https://www.bhaskar.com/rss-v1--category-1061.xml"; 
            const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;
            try {
                const response = await fetch(apiUrl);
                const data = await response.json();
                if (data.status === 'ok') {
                    newsList = data.items;
                    playLoop();
                }
            } catch (e) { headlineEl.innerText = "Check Connection..."; }
        }

        function playLoop() {
            if (newsList.length === 0) return;
            const item = newsList[currentIndex];

            // 1. स्क्रीन अपडेट
            headlineEl.innerText = item.title;
            if (item.enclosure && item.enclosure.link) {
                bgImg.src = item.enclosure.link;
            }

            // 2. एंकर की आवाज़
            const msg = new SpeechSynthesisUtterance("ब्रेकिंग न्यूज़... " + item.title);
            msg.lang = 'hi-IN';
            msg.rate = 0.9;
            
            msg.onend = () => {
                // खबर खत्म होने के 4 सेकंड बाद अगली खबर
                setTimeout(() => {
                    currentIndex = (currentIndex + 1) % newsList.length;
                    playLoop();
                }, 4000);
            };

            window.speechSynthesis.speak(msg);
        }

        function launchNews() {
            // स्टार्ट स्क्रीन हटाएँ
            document.getElementById('start-screen').style.display = 'none';
            
            // म्यूज़िक चालू करें (वॉल्यूम 30%)
            bgMusic.volume = 0.3;
            bgMusic.play();
            
            fetchNews();
        }

        // हर 10 मिनट में ताज़ा खबरें लोड करें
        setInterval(fetchNews, 600000);
    </script>
</body>
</html>
