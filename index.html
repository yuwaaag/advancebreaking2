<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <style>
        body, html { margin: 0; padding: 0; width: 100vw; height: 100vh; overflow: hidden; background: #000; font-family: 'Arial Black', sans-serif; }
        
        /* ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° ‡§î‡§∞ ‡§è‡§®‡§ø‡§Æ‡•á‡§∂‡§® */
        #news-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0.4; filter: blur(4px); transition: transform 10s linear; }
        .zoom-effect { transform: scale(1.1); }

        .studio-overlay {
            position: absolute; width: 100%; height: 100%;
            background: radial-gradient(circle, transparent 50%, #000 100%);
            z-index: 5;
        }

        /* ‡§Æ‡•á‡§® ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ */
        .breaking-container { 
            position: relative; width: 100%; height: 100%; 
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            z-index: 10; 
        }

        /* ‡§¨‡•ç‡§∞‡•á‡§ï‡§ø‡§Ç‡§ó ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§π‡•á‡§°‡§∞ */
        .header-box { 
            background: linear-gradient(90deg, #cc0000 0%, #ff0000 50%, #cc0000 100%); 
            padding: 15px 80px; transform: skewX(-20deg);
            border: 4px solid #fff; box-shadow: 0 0 30px #ff0000;
            margin-bottom: 40px; animation: slideDown 1s ease-out;
        }
        .header-text { 
            font-size: 70px; color: #fff; letter-spacing: 5px; margin: 0; 
            transform: skewX(20deg); text-shadow: 4px 4px 0px #000;
        }

        /* ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§¨‡•â‡§ï‡•ç‡§∏ */
        .news-box { 
            width: 90%; background: rgba(0, 0, 0, 0.8); 
            padding: 30px; border-left: 15px solid #ffcc00; 
            box-shadow: 10px 10px 30px rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
        }
        .news-text { 
            font-size: 50px; color: #fff; text-align: center; margin: 0; 
            line-height: 1.4; font-weight: 400; font-family: 'Arial', sans-serif;
        }

        /* ‡§®‡•Ä‡§ö‡•á ‡§ï‡•Ä ‡§™‡§ü‡•ç‡§ü‡•Ä */
        .ticker {
            position: absolute; bottom: 0; width: 100%; background: #ffcc00; color: #000;
            padding: 10px; font-size: 25px; font-weight: bold; text-align: center;
            z-index: 20; letter-spacing: 2px;
        }

        /* ‡§∏‡•ç‡§ü‡§æ‡§∞‡•ç‡§ü ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® */
        #start-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.95); display: flex; flex-direction: column; 
            justify-content: center; align-items: center; z-index: 1000; cursor: pointer; 
        }
        .play-btn {
            font-size: 80px; color: #ffcc00; border: 5px solid #ffcc00;
            border-radius: 50%; width: 120px; height: 120px;
            display: flex; justify-content: center; align-items: center;
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse { 0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 204, 0, 0.7); } 70% { transform: scale(1.1); box-shadow: 0 0 0 20px rgba(255, 204, 0, 0); } 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 204, 0, 0); } }
        @keyframes slideDown { from { transform: translateY(-100px) skewX(-20deg); opacity: 0; } to { transform: translateY(0) skewX(-20deg); opacity: 1; } }

    </style>
</head>
<body>

    <div id="start-overlay" onclick="startProMode()">
        <div class="play-btn">‚ñ∂</div>
        <h2 style="color:white; margin-top: 20px;">TV MODE START</h2>
    </div>

    <img id="news-bg" src="https://via.placeholder.com/1920x1080/000000/333333?text=PTN+NEWS" alt="Background">
    <div class="studio-overlay"></div>

    <div class="breaking-container">
        <div class="header-box"><h1 class="header-text">BREAKING NEWS</h1></div>
        
        <div class="news-box">
            <span style="background: #cc0000; color: white; padding: 5px 15px; font-size: 20px; font-weight: bold; border-radius: 3px;">LIVE</span>
            <p class="news-text" id="headline">‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...</p>
        </div>
    </div>

    <div class="ticker">PTN DIGITAL ‚Ä¢ LUCKNOW ‚Ä¢ SUPERFAST NEWS NETWORK</div>

    <audio id="bgMusic" loop>
        <source src="https://upload.wikimedia.org/wikipedia/commons/e/e6/News_Theme_Swish_hit_strings_perc.ogg" type="audio/ogg">
    </audio>

    <script>
        let newsList = [];
        let currentIndex = 0;
        const bgMusic = document.getElementById('bgMusic');
        const headlineEl = document.getElementById('headline');
        const bgImg = document.getElementById('news-bg');

        // üîä Base64 Sound Effect (‡§¨‡§ø‡§®‡§æ ‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§ö‡§≤‡•á‡§ó‡§æ)
        // ‡§Ø‡§π ‡§è‡§ï ‡§õ‡•ã‡§ü‡§æ "Whoosh" ‡§∏‡§æ‡§â‡§Ç‡§° ‡§π‡•à
        const whooshSound = new Audio("data:audio/wav;base64,UklGRjIAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAAABmYWN0BAAAAAAAAABkYXRhAAAAAA=="); // Placeholder for short transition, real logic below uses synth for reliability if this fails but trying simple beep first.
        
        // Actually, using a reliable frequency sweep for "Whoosh" is safer than long base64 strings in chat.
        function playWhoosh() {
            const ctx = new (window.AudioContext || window.webkitAudioContext)();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            
            osc.type = 'sine';
            osc.frequency.setValueAtTime(200, ctx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(600, ctx.currentTime + 0.3); // ‡§Ü‡§µ‡§æ‡§ú ‡§ä‡§™‡§∞ ‡§ú‡§æ‡§è‡§ó‡•Ä
            
            gain.gain.setValueAtTime(0.3, ctx.currentTime);
            gain.gain.linearRampToValueAtTime(0, ctx.currentTime + 0.3);
            
            osc.connect(gain);
            gain.connect(ctx.destination);
            osc.start();
            osc.stop(ctx.currentTime + 0.3);
        }

        async function fetchNews() {
            const rssUrl = "https://www.bhaskar.com/rss-v1--category-1061.xml"; 
            const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;
            try {
                const res = await fetch(apiUrl);
                const data = await res.json();
                if(data.status === 'ok') {
                    newsList = data.items;
                    runNewsCycle();
                }
            } catch(e) { console.log("News Error"); }
        }

        function runNewsCycle() {
            if(newsList.length === 0) return;
            const item = newsList[currentIndex];

            // 1. ‡§∏‡§æ‡§â‡§Ç‡§° ‡§¨‡§ú‡§æ‡§è‡§Ç
            playWhoosh();

            // 2. ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§î‡§∞ ‡§´‡•ã‡§ü‡•ã ‡§Ö‡§™‡§°‡•á‡§ü
            headlineEl.innerText = item.title;
            if(item.enclosure && item.enclosure.link) {
                bgImg.src = item.enclosure.link;
                // ‡§´‡•ã‡§ü‡•ã ‡§ï‡•ã ‡§•‡•ã‡§°‡§º‡§æ ‡§ú‡§º‡•Ç‡§Æ ‡§ï‡§∞‡•á‡§Ç (Animation)
                bgImg.classList.remove('zoom-effect');
                void bgImg.offsetWidth; // Trigger reflow
                bgImg.classList.add('zoom-effect');
            }

            // 3. ‡§Æ‡•ç‡§Ø‡•Ç‡§ú‡§ø‡§ï ‡§ß‡•Ä‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç (Ducking)
            bgMusic.volume = 0.1; 

            // 4. ‡§ñ‡§¨‡§∞ ‡§™‡§¢‡§º‡•á‡§Ç
            const utter = new SpeechSynthesisUtterance("‡§¨‡•ç‡§∞‡•á‡§ï‡§ø‡§Ç‡§ó ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º... " + item.title);
            utter.lang = 'hi-IN';
            utter.rate = 0.9;
            
            utter.onend = () => {
                // ‡§ñ‡§¨‡§∞ ‡§ñ‡§§‡•ç‡§Æ ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§Æ‡•ç‡§Ø‡•Ç‡§ú‡§ø‡§ï ‡§§‡•á‡§ú‡§º ‡§ï‡§∞‡•á‡§Ç
                bgMusic.volume = 0.4;
                
                // 3 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§∞‡•Å‡§ï‡§ï‡§∞ ‡§Ö‡§ó‡§≤‡•Ä ‡§ñ‡§¨‡§∞
                setTimeout(() => {
                    currentIndex = (currentIndex + 1) % newsList.length;
                    runNewsCycle();
                }, 3000);
            };

            window.speechSynthesis.speak(utter);
        }

        function startProMode() {
            document.getElementById('start-overlay').style.display = 'none';
            
            // ‡§Æ‡•ç‡§Ø‡•Ç‡§ú‡§ø‡§ï ‡§ö‡§æ‡§≤‡•Ç ‡§ï‡§∞‡•á‡§Ç
            bgMusic.volume = 0.4;
            bgMusic.play().catch(e => alert("Please click again to start audio"));
            
            fetchNews();
            
            // ‡§π‡§∞ 5 ‡§Æ‡§ø‡§®‡§ü ‡§Æ‡•á‡§Ç ‡§®‡§à ‡§ñ‡§¨‡§∞‡•á‡§Ç ‡§≤‡§æ‡§è‡§Ç
            setInterval(fetchNews, 300000);
        }

    </script>
</body>
</html>
